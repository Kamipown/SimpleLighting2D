(function(e){function t(t){for(var i,o,r=t[0],l=t[1],u=t[2],d=0,b=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&b.push(c[o][0]),c[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);s&&s(t);while(b.length)b.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,r=1;r<n.length;r++){var l=n[r];0!==c[l]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},c={app:0},a=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/SimpleLighting2D/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var s=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"008a":function(e,t,n){},"03e4":function(e,t,n){"use strict";n("27a3")},"0bda":function(e,t,n){"use strict";n("7a07")},"27a3":function(e,t,n){},"2d4d":function(e,t,n){"use strict";n("4d3d")},"2e4a":function(e,t,n){},3078:function(e,t,n){},"367f":function(e,t,n){},3802:function(e,t,n){},"3e21":function(e,t,n){},"461b":function(e,t,n){},4682:function(e,t,n){},"4d3d":function(e,t,n){},"50f9":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23"),c=n("5502"),a={name:"colorMap.png",date:new Date("04/11/2021 21:12:03"),size:688,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAABACAMAAABIpVWhAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAtUExURQAAAAUWJR0lLTg0QmBbYpGAdO+7lQkMHRYmNVMzJGVFODQeEzZXW1VxdAAAACxug88AAAAPdFJOU///////////////////ANTcmKEAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHxSURBVEhLpdTbeoQgDARgrQcE1Pd/3M5MAsK6p6/NxW4MPzFsq8PZxfjD8AuPnoxGetMRimmaxndE4tG0hE1mxAeyLOsyfyDruvLbS4yO4CyTSNemIdw8TvNM8ZSEoCWEaGMKCSBaLMjrCCchbJsAOwhutoBoyOY9FOOdQKDNdaftkWASkCDEYK4FRiEo6iNSJJJqRGJEj2wkhpBIUtI6QiTEtGUQMxQbvrSOIMFSSoXsOR4k1zAgXEETM2E/DhIWe3KS0MSccY9NZ2wIvZPIcTGNb3RiuQgAZsAgIsU8EgoYrLAuU4gMdoaw7xhXBCs8+ZBjssHUhIfPh/0mGgoZiRIikhT3w6+5BbccsLkSy5MTXGETZ2FdQufRLCFkM1k3YiKBSwSHxG/c1Ei8SU4cwg5dCf+aA/qXSfaj/C6FcH9qCacyAqOaEX7Ylc3Sk+WMRmSMmKhkPdeFBAmDN2ITNVKFsa7DvEDqQsctpDEiCgc3gkMvnhWh/8meeNQm74jWKb4ll/kLqUN5/R2p5k5ubQpBXQuWviRc8vQFqVsrtrhIFc6VMpzcm3wiNWdUouq/SVN+TmgQNW/EK1JzRCF60jzt8pb4Q8lo85b4Q8l4TviC8rTnlfCxtQyhl5XnCCN6yyljgPBBL4VCrgoJTNlznr9zf1vI43ZF9QAAAABJRU5ErkJggg=="},o=a,r={name:"lightMap.png",date:new Date("04/11/2021 21:18:32"),size:643,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAABACAMAAABIpVWhAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAbUExURQAAADExMWZmZqSkpP///yIiIrGxsenp6QAAAHGBTCoAAAAJdFJOU///////////AFNPeBIAAAAJcEhZcwAADsIAAA7CARUoSoAAAAHcSURBVEhLpdTZdoMwDATQAF74/y/uzGhBDll6Wj0kQro2ggQe5xLbzvADj5VsRlazEIrjOLZPROLZVMJNGuIXpH0n/PYSYyG4lkNk2aYQLt5AKF6S3tVCiBYTpIOoGcjrCCe9WwPLA1oDUQjbGeVMQVSOadYzGcEkaHQhBnM1GEFQ1MegmCRpRMbg7kZG75NkTvURIn2gGNsMih1f6iNI0NJCkbmPRnINA8KOgqZP/EjKcxgnZxhMhXPsusZC6J0MjotpfKETy0UAMAO+RcI8Ewok6LAuE0QGK3lXMK4IOrzyB3a1wbSJ7kmze6KhkJEoISKZYzY/5hKc8sHhglgeBEdYxFlYl9D1aBYMYQZ33YiOTxwiOCTucamR+CY4xBnsopPw13xg/5hktrgvQbh+VsKpjOSfToQfdmSzrKSdw4iMEROFtEaChIGORtFGqjBA8A9yossNUoyIwsGN4KJd6BdXWOJVhJ4ARm7yiahP8Vtymb+QHMrrn0iaO7ltEwR1NSx9S9jy9A3JpYktLpLCuVKGk/sm30jmjCSq/puU8mtCg8i8iHckc0QQPWmeLnkl/lAyal6JP5SM14QvKE9XnoSPrWUIvaw8RxjRW04ZA4QPehSCXBUSmFhznj/mETF9KmS3DgAAAABJRU5ErkJggg=="},l=r,u=(n("caad"),{props:{stick:{type:String,required:!0,validator:function(e){return["left","right"].includes(e)}},folded:{type:Boolean,default:!1}},setup:function(e){var t=e;return function(e,n){return Object(i["t"])(),Object(i["g"])("aside",{class:Object(i["m"])(["panel",[t.stick,{folded:t.folded}]])},[Object(i["z"])(e.$slots,"default")],2)}}});n("bd93");u.__scopeId="data-v-d73369a8";var s=u,d=(n("a9e3"),n("b0c0"),{props:{name:{type:String,required:!0},size:{type:[Number,String],default:16}},setup:function(e){var t=e;Object(i["C"])((function(e){return{d036d724:n}}));var n="".concat(t.size,"px");return function(e,n){return Object(i["t"])(),Object(i["g"])("i",{class:Object(i["m"])("icon uil uil-".concat(t.name))},null,2)}}});n("8e4f");d.__scopeId="data-v-7bdf3544";var b=d;Object(i["v"])("data-v-42fa18e7");var f={class:"panelSection"},g={key:0};Object(i["u"])();var h={props:{title:String,icon:String},setup:function(e){var t=e;return function(e,n){return Object(i["t"])(),Object(i["g"])("section",f,[t.title&&t.icon?(Object(i["t"])(),Object(i["g"])("header",g,[Object(i["i"])(Object(i["B"])(b),{name:t.icon,size:"24"},null,8,["name"]),Object(i["h"])("h2",null,Object(i["A"])(t.title),1)])):Object(i["f"])("",!0),Object(i["z"])(e.$slots,"default")])}}};n("6799");h.__scopeId="data-v-42fa18e7";var O=h,j={props:{text:{type:String,default:"Select or drop image"}},emits:["change"],setup:function(e,t){var n=t.emit,c=e,a=Object(i["w"])({hovering:!1,clicking:!1,dragging:!1}),o=function(){a.hovering=!0},r=function(){a.hovering=!1,a.clicking=!1},l=function(){a.clicking=!0},u=function(){a.clicking=!1},s=function(){a.dragging=!0},d=function(){a.dragging=!1},f=function(){a.dragging=!1},g=function(e){return n("change",e.target.files[0])};return function(e,t){return Object(i["t"])(),Object(i["g"])("div",{class:Object(i["m"])(["imageSelector",Object(i["B"])(a)])},[Object(i["h"])("p",null,Object(i["A"])(c.text),1),Object(i["i"])(Object(i["B"])(b),{name:"import",size:"20"}),Object(i["h"])("input",{type:"file",accept:"image/png",title:"",onMouseenter:o,onMouseleave:r,onMousedown:l,onMouseup:u,onDragenter:s,onDragleave:d,onDrop:f,onChange:g},null,32)],2)}}};n("a67a");j.__scopeId="data-v-ab49bc0c";var v=j,p=(n("ac1f"),n("5319"),n("b680"),function(e,t,n,i){if(n=n||!1,0===e)return"0 B";if(isNaN(parseFloat(e))&&!isFinite(e))return"Not an number";var c=n?1024:1e3,a=null!=t&&!isNaN(t)&&t>=0?t:2,o=n?["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB","BiB"]:["B","KB","MB","GB","TB","PB","EB","ZB","YB","BB"],r=Math.floor(Math.log(e)/Math.log(c));if(void 0!=i){var l=o.indexOf(i);-1!=l&&(r=l)}return parseFloat((e/Math.pow(c,r)).toFixed(a))+" "+o[r]}),m=p;Object(i["v"])("data-v-3337b99b");var w={key:0,class:"imagePreview"},A=Object(i["h"])("span",null,"Name",-1),B=Object(i["h"])("span",null,"Size",-1),y=Object(i["h"])("span",null,"Dimensions",-1),S=Object(i["h"])("span",null,"Last update",-1);Object(i["u"])();var x={props:{src:String,name:String,size:Number,width:Number,height:Number,lastUpdate:Date},setup:function(e){var t=e,n=Object(i["c"])((function(){return{height:"".concat(t.width>320?320*t.height/t.width:t.height,"px"),backgroundImage:"url('".concat(t.src,"')")}}));return function(e,c){var a;return t.src?(Object(i["t"])(),Object(i["g"])("div",w,[Object(i["h"])("div",{style:Object(i["o"])(Object(i["B"])(n))},null,4),Object(i["h"])("p",null,[A,Object(i["h"])("span",null,Object(i["A"])(t.name),1)]),Object(i["h"])("p",null,[B,Object(i["h"])("span",null,Object(i["A"])(Object(i["B"])(m)(t.size)),1)]),Object(i["h"])("p",null,[y,Object(i["h"])("span",null,Object(i["A"])(t.width)+"x"+Object(i["A"])(t.height),1)]),Object(i["h"])("p",null,[S,Object(i["h"])("span",null,Object(i["A"])(null===(a=t.lastUpdate)||void 0===a?void 0:a.toLocaleString().replace(",","")),1)])])):Object(i["f"])("",!0)}}};n("fbda");x.__scopeId="data-v-3337b99b";var M=x,z={setup:function(e){var t=Object(c["b"])(),n=Object(i["c"])((function(){return{src:t.getters["colorMap/src"],name:t.getters["colorMap/name"],size:t.getters["colorMap/size"],width:t.getters["colorMap/width"],height:t.getters["colorMap/height"],lastUpdate:t.getters["colorMap/date"]}})),a=function(e){t.dispatch("colorMap/load",{file:e,setResults:!0})};return function(e,t){return Object(i["t"])(),Object(i["e"])(Object(i["B"])(O),{class:"colorMap",title:"Color Map",icon:"image"},{default:Object(i["F"])((function(){return[Object(i["i"])(Object(i["B"])(v),{text:"Import",onChange:a}),Object(i["i"])(Object(i["B"])(M),Object(i["n"])(Object(i["j"])(Object(i["B"])(n))),null,16)]})),_:1})}}},E=z,L={setup:function(e){var t=Object(c["b"])(),n=Object(i["c"])((function(){return{src:t.getters["lightMap/src"],name:t.getters["lightMap/name"],size:t.getters["lightMap/size"],width:t.getters["lightMap/width"],height:t.getters["lightMap/height"],lastUpdate:t.getters["lightMap/date"]}})),a=function(e){t.dispatch("lightMap/load",{file:e})};return function(e,t){return Object(i["t"])(),Object(i["e"])(Object(i["B"])(O),{class:"lightMap",title:"Light Map",icon:"image"},{default:Object(i["F"])((function(){return[Object(i["i"])(Object(i["B"])(v),{text:"Import",onChange:a}),Object(i["i"])(Object(i["B"])(M),Object(i["n"])(Object(i["j"])(Object(i["B"])(n))),null,16)]})),_:1})}}},F=L,I={props:{fullScreen:Boolean},setup:function(e){var t=e;return function(e,n){return Object(i["t"])(),Object(i["e"])(Object(i["B"])(s),{class:"leftPanel",stick:"left",folded:t.fullScreen},{default:Object(i["F"])((function(){return[Object(i["i"])(Object(i["B"])(E)),Object(i["i"])(Object(i["B"])(F))]})),_:1},8,["folded"])}}},C=I;n("d3b7"),n("ddb0");Object(i["v"])("data-v-14a3f75c");var k={class:"header"},G=Object(i["h"])("div",null,[Object(i["h"])("span")],-1),D=[G];Object(i["u"])();var N={props:{text:String,enabled:Boolean,folded:Boolean},emits:["toggleEnabled","toggleFolded"],setup:function(e,t){var n=t.emit,c=e,a=function(){return n("toggleEnabled")},o=function(){return n("toggleFolded")};return function(e,t){return Object(i["t"])(),Object(i["g"])("header",k,[Object(i["h"])("div",{class:Object(i["m"])(["checkbox",{checked:c.enabled}]),onClick:a},D,2),Object(i["h"])("p",null,Object(i["A"])(c.text),1),Object(i["h"])("div",{class:Object(i["m"])(["fold",{folded:c.folded}]),onClick:o},[Object(i["h"])("div",null,[Object(i["i"])(Object(i["B"])(b),{name:"angle-down",size:"20"})])],2)])}}};n("eda6");N.__scopeId="data-v-14a3f75c";var _=N;function R(e,t,n,c,a,o){return Object(i["t"])(),Object(i["e"])(i["b"],{name:"expand",onAfterEnter:o.afterEnter,onEnter:o.enter,onLeave:o.leave},{default:Object(i["F"])((function(){return[Object(i["z"])(e.$slots,"default")]})),_:3},8,["onAfterEnter","onEnter","onLeave"])}var Q={methods:{afterEnter:function(e){e.style.height="auto"},enter:function(e){var t=getComputedStyle(e),n=t.width;e.style.width=n,e.style.position="absolute",e.style.visibility="hidden",e.style.height="auto";var i=getComputedStyle(e),c=i.height;e.style.width=null,e.style.position=null,e.style.visibility=null,e.style.height=0,getComputedStyle(e).height,requestAnimationFrame((function(){e.style.height=c}))},leave:function(e){var t=getComputedStyle(e),n=t.height;e.style.height=n,getComputedStyle(e).height,requestAnimationFrame((function(){e.style.height=0}))}}};n("5e5b");Q.render=R;var T=Q,U={props:{text:String},emits:["move"],setup:function(e,t){var n=t.emit,c=e;Object(i["r"])((function(){window.addEventListener("mousemove",r,!1),window.addEventListener("mouseup",l,!1),window.addEventListener("mouseLeave",l,!1)})),Object(i["s"])((function(){window.removeEventListener("mousemove",r,!1),window.removeEventListener("mouseup",l,!1),window.removeEventListener("mouseLeave",l,!1)}));var a=Object(i["w"])({down:null}),o=function(){a.down=!0},r=function(e){a.down&&n("move",e.movementX)},l=function(){a.down&&(a.down=!1)};return function(e,t){return Object(i["t"])(),Object(i["g"])("p",{class:"label",onMousedown:o},Object(i["A"])(c.text),33)}}};n("0bda");U.__scopeId="data-v-1e2d6951";var P=U;Object(i["v"])("data-v-4b302601");var K={class:"inputNumber"},J=["value","disabled"];Object(i["u"])();var Y={props:{text:{type:String},value:{type:Number},min:{type:Number,default:null},max:{type:Number,default:null},disabled:{type:Boolean,default:!1}},emits:["change"],setup:function(e,t){var n=t.emit,c=e,a=function(e){return r(c.value+e||0)},o=function(e){return r(parseInt(e.target.value||0))},r=function(e){null!==c.min&&null!==c.max?n("change",Math.min(Math.max(e,c.min),c.max)):null!==c.min?n("change",Math.max(e,c.min)):null!==c.max?n("change",Math.min(e,c.max)):n("change",e)};return function(e,t){return Object(i["t"])(),Object(i["g"])("label",K,[Object(i["i"])(Object(i["B"])(P),{text:c.text,onMove:a},null,8,["text"]),Object(i["h"])("input",{type:"number",min:"0",max:"100",value:c.value,onInput:o,disabled:c.disabled},null,40,J)])}}};n("dc71");Y.__scopeId="data-v-4b302601";var Z=Y,W=function(e){e=e.replace(/^\s*#|\s*$/g,""),3==e.length&&(e=e.replace(/(.)/g,"$1$1"));var t=parseInt(e.substr(0,2),16)/255,n=parseInt(e.substr(2,2),16)/255,i=parseInt(e.substr(4,2),16)/255,c=Math.max(t,n,i),a=Math.min(t,n,i),o=c-a,r=(c+a)/2,l=0,u=0;return l=0==o?0:c==t?(n-i)/o%6*60:c==n?60*((i-t)/o+2):60*((t-n)/o+4),u=0==o?0:o/(1-Math.abs(2*r-1)),{h:l,s:u,l:r}},V=W,q=(n("fb6a"),n("25f0"),function(e,t,n){return"#"+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)}),X=q,H=function(e,t){return e=Math.floor(255*(e+t)),e<0&&(e=0),e},$=function(e){var t,n,i,c=e.h,a=e.s,o=e.l,r=(1-Math.abs(2*o-1))*a,l=r*(1-Math.abs(c/60%2-1)),u=o-r/2;return c<60?(t=r,n=l,i=0):c<120?(t=l,n=r,i=0):c<180?(t=0,n=r,i=l):c<240?(t=0,n=l,i=r):c<300?(t=l,n=0,i=r):(t=r,n=0,i=l),t=H(t,u),n=H(n,u),i=H(i,u),X(t,n,i)},ee=$,te=function(e,t){var n=V(e);return n.h+=t,n.h>360?n.h-=360:n.h<0&&(n.h+=360),ee(n)},ne=te;Object(i["v"])("data-v-49c88c7e");var ie={class:"inputColor"},ce={class:"input"},ae=["value","disabled"];Object(i["u"])();var oe={props:{text:{type:String},value:{type:String},disabled:{type:Boolean,default:!1}},emits:["change"],setup:function(e,t){var n=t.emit,c=e,a=function(e){return r(ne(c.value,e))},o=function(e){return r(e.target.value)},r=function(e){return n("change",e)};return function(e,t){return Object(i["t"])(),Object(i["g"])("label",ie,[Object(i["i"])(Object(i["B"])(P),{text:c.text,onMove:a},null,8,["text"]),Object(i["h"])("div",ce,[Object(i["h"])("input",{type:"color",value:c.value,onInput:o,disabled:c.disabled},null,40,ae)])])}}};n("5ef7");oe.__scopeId="data-v-49c88c7e";var re=oe;Object(i["v"])("data-v-2c8ab2b8");var le=Object(i["h"])("div",null,[Object(i["h"])("div")],-1);Object(i["u"])();var ue={props:{text:String,value:Boolean},emits:["toggle"],setup:function(e,t){var n=t.emit,c=e,a=function(){return n("toggle")};return function(e,t){return Object(i["t"])(),Object(i["g"])("label",{class:Object(i["m"])(["inputSwitch",{active:c.value}]),onClick:a},[le,Object(i["h"])("p",null,Object(i["A"])(c.text),1)],2)}}};n("b216");ue.__scopeId="data-v-2c8ab2b8";var se=ue;Object(i["v"])("data-v-1e127099");var de={class:"light"};Object(i["u"])();var be={props:{id:Number,enabled:Boolean,folded:Boolean,intensity:Number,color:String},emits:["toggleEnabled","toggleFolded","edit"],setup:function(e,t){var n=t.emit,c=e,a=function(){return n("toggleEnabled")},o=function(){return n("toggleFolded")},r=function(e){return n("edit",{intensity:e})},l=function(e){return n("edit",{color:e})};return function(e,t){return Object(i["t"])(),Object(i["g"])("div",de,[Object(i["i"])(Object(i["B"])(_),{text:"Ambiant light",enabled:c.enabled,folded:c.folded,onToggleEnabled:a,onToggleFolded:o},null,8,["enabled","folded"]),Object(i["i"])(Object(i["B"])(T),null,{default:Object(i["F"])((function(){return[Object(i["G"])(Object(i["h"])("div",null,[Object(i["h"])("div",{class:Object(i["m"])({disabled:!c.enabled})},[Object(i["i"])(Object(i["B"])(Z),{text:"Intensity",disabled:!c.enabled,value:c.intensity,min:0,max:100,onChange:r},null,8,["disabled","value"]),Object(i["i"])(Object(i["B"])(re),{text:"Color",disabled:!c.enabled,value:c.color,onChange:l},null,8,["disabled","value"])],2)],512),[[i["D"],!c.folded]])]})),_:1})])}}};n("b467");be.__scopeId="data-v-1e127099";var fe=be;Object(i["v"])("data-v-3e994832");var ge={class:"footer"};function he(e,t){return Object(i["t"])(),Object(i["g"])("footer",ge,[Object(i["z"])(e.$slots,"default",{},void 0,!0)])}Object(i["u"])();n("c221");const Oe={};Oe.render=he,Oe.__scopeId="data-v-3e994832";var je=Oe;n("c96a");Object(i["v"])("data-v-309029f8");var ve={key:0};Object(i["u"])();var pe={props:{text:{type:String,default:null},icon:{type:String,default:null},disabled:{type:Boolean,default:!1},small:{type:Boolean,default:!1}},emits:["click"],setup:function(e,t){var n=t.emit,c=e,a=function(){c.disabled||n("click")};return function(e,t){return Object(i["t"])(),Object(i["g"])("div",{class:Object(i["m"])(["button",{disabled:c.disabled,small:c.small}]),onClick:a},[c.text?(Object(i["t"])(),Object(i["g"])("p",ve,Object(i["A"])(c.text),1)):Object(i["f"])("",!0),c.icon?(Object(i["t"])(),Object(i["e"])(Object(i["B"])(b),{key:1,name:c.icon,size:c.small?16:20},null,8,["name","size"])):Object(i["f"])("",!0)],2)}}};n("fc26");pe.__scopeId="data-v-309029f8";var me=pe;Object(i["v"])("data-v-8245d7da");var we={class:"light"};Object(i["u"])();var Ae={props:{id:Number,enabled:Boolean,folded:Boolean,x:Number,y:Number,intensity:Number,radius:Number,color:String},emits:["toggleEnabled","toggleFolded","edit","delete"],setup:function(e,t){var n=t.emit,c=e,a=function(){return n("toggleEnabled")},o=function(){return n("toggleFolded")},r=function(e){return n("edit",{x:e})},l=function(e){return n("edit",{y:e})},u=function(e){return n("edit",{radius:e})},s=function(e){return n("edit",{intensity:e})},d=function(e){return n("edit",{color:e})},b=function(){return n("delete")};return function(e,t){return Object(i["t"])(),Object(i["g"])("div",we,[Object(i["i"])(Object(i["B"])(_),{text:"Point light ".concat(c.id),enabled:c.enabled,folded:c.folded,onToggleEnabled:a,onToggleFolded:o},null,8,["text","enabled","folded"]),Object(i["i"])(Object(i["B"])(T),null,{default:Object(i["F"])((function(){return[Object(i["G"])(Object(i["h"])("div",null,[Object(i["h"])("div",{class:Object(i["m"])({disabled:!c.enabled})},[Object(i["i"])(Object(i["B"])(Z),{text:"Position X",disabled:!c.enabled,value:c.x,onChange:r},null,8,["disabled","value"]),Object(i["i"])(Object(i["B"])(Z),{text:"Position Y",disabled:!c.enabled,value:c.y,onChange:l},null,8,["disabled","value"]),Object(i["i"])(Object(i["B"])(Z),{text:"Radius",disabled:!c.enabled,value:c.radius,min:0,onChange:u},null,8,["disabled","value"]),Object(i["i"])(Object(i["B"])(Z),{text:"Intensity",disabled:!c.enabled,value:c.intensity,min:0,max:100,onChange:s},null,8,["disabled","value"]),Object(i["i"])(Object(i["B"])(re),{text:"Color",disabled:!c.enabled,value:c.color,onChange:d},null,8,["disabled","value"])],2),Object(i["i"])(Object(i["B"])(je),null,{default:Object(i["F"])((function(){return[Object(i["i"])(Object(i["B"])(me),{text:"Delete",icon:"times",onClick:b,small:""})]})),_:1})],512),[[i["D"],!c.folded]])]})),_:1})])}}};n("ddad");Ae.__scopeId="data-v-8245d7da";var Be=Ae,ye={setup:function(e){var t=Object(c["b"])(),n=Object(i["c"])((function(){return t.getters["lights/ambiantLight"]})),a=function(){t.dispatch("lights/toggleEnabled",{id:0})},o=function(){t.dispatch("lights/toggleFolded",{id:0})},r=function(e){t.dispatch("lights/edit",{id:0,data:e})};return function(e,t){return Object(i["t"])(),Object(i["e"])(Object(i["B"])(O),{class:"lights",title:"Ambiant Light",icon:"sun"},{default:Object(i["F"])((function(){return[Object(i["i"])(Object(i["B"])(fe),Object(i["l"])({style:{margin:"0"},id:Object(i["B"])(n).id,enabled:Object(i["B"])(n).enabled,folded:Object(i["B"])(n).folded},Object(i["B"])(n).values,{onToggleEnabled:a,onToggleFolded:o,onEdit:r}),null,16,["id","enabled","folded"])]})),_:1})}}},Se=ye,xe={setup:function(e){var t=Object(c["b"])(),n=Object(i["c"])((function(){return t.getters["lights/pointLights"]})),a=function(){return t.dispatch("lights/add")},o=function(e){t.dispatch("lights/toggleEnabled",{id:e})},r=function(e){t.dispatch("lights/toggleFolded",{id:e})},l=function(e,n){t.dispatch("lights/edit",{id:e,data:n})},u=function(e){t.dispatch("lights/delete",{id:e})};return function(e,t){return Object(i["t"])(),Object(i["e"])(Object(i["B"])(O),{class:"lights",title:"Point Lights",icon:"lightbulb-alt"},{default:Object(i["F"])((function(){return[Object(i["i"])(Object(i["B"])(me),{text:"Add",icon:"plus",onClick:a}),(Object(i["t"])(!0),Object(i["g"])(i["a"],null,Object(i["y"])(Object(i["B"])(n),(function(e){return Object(i["t"])(),Object(i["e"])(Object(i["B"])(Be),Object(i["l"])({key:e.id,id:e.id,enabled:e.enabled,folded:e.folded},e.values,{onToggleEnabled:function(){return o(e.id)},onToggleFolded:function(){return r(e.id)},onEdit:function(t){return l(e.id,t)},onDelete:function(){return u(e.id)}}),null,16,["id","enabled","folded","onToggleEnabled","onToggleFolded","onEdit","onDelete"])})),128))]})),_:1})}}},Me=xe,ze={setup:function(e){var t=Object(c["b"])(),n=Object(i["c"])((function(){return{showGizmos:t.getters["settings/showGizmos"],showGizmosFullScreen:t.getters["settings/showGizmosFullScreen"],autoMaximize:t.getters["settings/autoMaximize"],scale:t.getters["settings/scale"]}})),a=function(){return t.dispatch("settings/toggleShowGizmos")},o=function(){return t.dispatch("settings/toggleShowGizmosFullScreen")},r=function(){return t.dispatch("settings/toggleAutoMaximize")},l=function(e){return t.dispatch("settings/setScale",e)};return function(e,t){return Object(i["t"])(),Object(i["e"])(Object(i["B"])(O),{class:"settings",title:"Settings",icon:"setting"},{default:Object(i["F"])((function(){return[Object(i["i"])(Object(i["B"])(Z),{text:"Scale multiplier",value:Object(i["B"])(n).scale,min:1,max:16,onChange:l},null,8,["value"]),Object(i["i"])(Object(i["B"])(se),{text:"Show gizmos when UI is visible",value:Object(i["B"])(n).showGizmos,onToggle:a},null,8,["value"]),Object(i["i"])(Object(i["B"])(se),{text:"Show gizmos when UI is hidden",value:Object(i["B"])(n).showGizmosFullScreen,onToggle:o},null,8,["value"]),Object(i["i"])(Object(i["B"])(se),{text:"Auto hide UI when running",value:Object(i["B"])(n).autoMaximize,onToggle:r},null,8,["value"])]})),_:1})}}};n("f13a");ze.__scopeId="data-v-e276bde0";var Ee=ze,Le={props:{fullScreen:Boolean},setup:function(e){var t=e;return function(e,n){return Object(i["t"])(),Object(i["e"])(Object(i["B"])(s),{class:"rightPanel",stick:"right",folded:t.fullScreen},{default:Object(i["F"])((function(){return[Object(i["i"])(Object(i["B"])(Se)),Object(i["i"])(Object(i["B"])(Me)),Object(i["i"])(Object(i["B"])(Ee))]})),_:1},8,["folded"])}}},Fe=Le;Object(i["v"])("data-v-71ee9819");var Ie=["width","height"];Object(i["u"])();var Ce={setup:function(e){var t=Object(c["b"])(),n=Object(i["x"])(null),a=Object(i["w"])({width:Object(i["c"])((function(){return t.getters["colorMap/width"]})),height:Object(i["c"])((function(){return t.getters["colorMap/height"]})),results:Object(i["c"])((function(){return t.getters["results"]})),scale:Object(i["c"])((function(){return t.getters["settings/scale"]}))});return Object(i["E"])((function(){return a.results}),(function(e){var t=n.value.getContext("2d"),i=new ImageData(e,a.width,a.height);t.putImageData(i,0,0)})),function(e,t){return Object(i["t"])(),Object(i["g"])("canvas",{class:"canvas",ref:function(e,t){t["canvas"]=e,n.value=e},width:Object(i["B"])(a).width,height:Object(i["B"])(a).height,style:Object(i["o"])({width:Object(i["B"])(a).width*Object(i["B"])(a).scale+"px",height:Object(i["B"])(a).height*Object(i["B"])(a).scale+"px"})},null,12,Ie)}}};n("a961");Ce.__scopeId="data-v-71ee9819";var ke=Ce,Ge=(n("4de4"),n("2909")),De=(n("a15b"),n("99af"),n("07ac"),function(e){return function(e){return{r:e>>16&255,g:e>>8&255,b:255&e}}(parseInt(e.substring(1),16))}),Ne=De,_e={props:{id:Number,offset:Object,scale:Number,x:Number,y:Number,radius:Number,intensity:Number,color:String},emits:["move","scale","intensify"],setup:function(e,t){var n=t.emit,c=e;Object(i["r"])((function(){window.addEventListener("mousemove",r,!1),window.addEventListener("mouseup",l,!1),window.addEventListener("mouseLeave",l,!1)})),Object(i["s"])((function(){window.removeEventListener("mousemove",r,!1),window.removeEventListener("mouseup",l,!1),window.removeEventListener("mouseLeave",l,!1)}));var a=Object(i["w"])({down:!1,x:0,y:0}),o=function(){a.down=!0,a.x=0,a.y=0},r=function(e){var t=e.ctrlKey,i=e.shiftKey,o=e.movementX,r=e.movementY;if(a.down){a.x+=o,a.y+=r;var l=parseInt(a.x/c.scale),u=parseInt(a.y/c.scale);(l||u)&&(i?n("scale",{x:l}):t?n("intensify",{x:l}):n("move",{x:l,y:u}),a.x-=l*c.scale,a.y-=u*c.scale)}},l=function(){a.down&&(a.down=!1)},u=Object(i["c"])((function(){return{left:(c.x-c.radius)*c.scale+c.offset.x+"px",top:(c.y-c.radius)*c.scale+c.offset.y+"px",width:2*c.radius*c.scale+"px",height:2*c.radius*c.scale+"px",borderColor:c.color,backgroundColor:"rgba(".concat([].concat(Object(Ge["a"])(Object.values(Ne(c.color))),[c.intensity/100]).join(","),")")}}));return function(e,t){return Object(i["t"])(),Object(i["g"])("div",{class:"gizmo",style:Object(i["o"])(Object(i["B"])(u)),onMousedown:o},[Object(i["G"])(Object(i["h"])("span",null,Object(i["A"])(c.id),513),[[i["D"],c.radius*c.scale>=10]])],36)}}};n("aea9");_e.__scopeId="data-v-2c457272";var Re=_e;Object(i["v"])("data-v-12950888");var Qe={class:"gizmos"};Object(i["u"])();var Te={props:{offset:Object,scale:Number},setup:function(e){var t=e,n=Object(c["b"])(),a=Object(i["c"])((function(){return n.getters["lights/pointLights"].filter((function(e){return e.enabled}))})),o=function(e,t,i){n.dispatch("lights/edit",{id:e,data:{x:t,y:i}})},r=function(e,t){n.dispatch("lights/edit",{id:e,data:{radius:t}})},l=function(e,t){n.dispatch("lights/edit",{id:e,data:{intensity:t}})},u=Object(i["c"])((function(){return{fullScreen:n.getters["fullScreen"],showGizmos:n.getters["settings/showGizmos"],showGizmosFullScreen:n.getters["settings/showGizmosFullScreen"]}}));return function(e,n){return Object(i["G"])((Object(i["t"])(),Object(i["g"])("div",Qe,[(Object(i["t"])(!0),Object(i["g"])(i["a"],null,Object(i["y"])(Object(i["B"])(a),(function(e){return Object(i["t"])(),Object(i["e"])(Object(i["B"])(Re),Object(i["l"])({key:e.id,id:e.id,offset:t.offset,scale:t.scale},e.values,{onMove:function(t){return o(e.id,e.values.x+t.x,e.values.y+t.y)},onScale:function(t){return r(e.id,Math.max(e.values.radius+t.x,0))},onIntensify:function(t){return l(e.id,Math.min(Math.max(e.values.intensity+t.x,0),100))}}),null,16,["id","offset","scale","onMove","onScale","onIntensify"])})),128))],512)),[[i["D"],!Object(i["B"])(u).fullScreen&&Object(i["B"])(u).showGizmos||Object(i["B"])(u).fullScreen&&Object(i["B"])(u).showGizmosFullScreen]])}}};n("8f1d");Te.__scopeId="data-v-12950888";var Ue=Te,Pe=n("3835"),Ke=function(){var e=Object(i["w"])({width:0,height:0}),t=function(){e.width=window.innerWidth,e.height=window.innerHeight};return Object(i["p"])((function(){window.addEventListener("resize",t,!1),t()})),Object(i["q"])((function(){window.removeEventListener("resize",t,!1)})),e},Je=Ke,Ye=function(){var e=Object(c["b"])(),t=Je(),n=Object(i["c"])((function(){return e.getters.fullScreen})),a=Object(i["w"])({width:0,height:0});return Object(i["E"])([t,n],(function(e){var t=Object(Pe["a"])(e,2),n=t[0],i=n.width,c=n.height,o=t[1];a.width=o?i:i-720,a.height=c})),a},Ze=Ye;Object(i["v"])("data-v-631622cc");var We=["onWheel"];Object(i["u"])();var Ve={props:{fullScreen:Boolean},setup:function(e){var t=e,n=Object(c["b"])(),a=Ze(),o=Object(i["w"])({width:Object(i["c"])((function(){return n.getters["colorMap/width"]})),height:Object(i["c"])((function(){return n.getters["colorMap/height"]})),scale:Object(i["c"])((function(){return n.getters["settings/scale"]})),results:Object(i["c"])((function(){return n.getters["results"]}))}),r=Object(i["c"])((function(){var e=o.width*o.scale,t=o.height*o.scale;return e<=a.width&&t<=a.height?{x:(a.width-e)/2,y:(a.height-t)/2,overflow:"hidden"}:e<=a.width-20?{x:(a.width-e)/2,y:0,overflow:"auto"}:t<=a.height-20?{x:0,y:(a.height-t)/2,overflow:"auto"}:{x:0,y:0,overflow:"auto"}})),l=Object(i["c"])((function(){return{paddingLeft:r.value.x+"px",paddingTop:r.value.y+"px",overflow:r.value.overflow}})),u=function(e){var t=e.deltaY;t<0&&o.scale<16?n.dispatch("settings/setScale",o.scale+1):t>0&&o.scale>1&&n.dispatch("settings/setScale",o.scale-1)};return function(e,n){return Object(i["t"])(),Object(i["g"])("div",{class:Object(i["m"])(["scene",{fullScreen:t.fullScreen,centerHorizontal:Object(i["B"])(o).width<Object(i["B"])(a).width,centerVertical:Object(i["B"])(o).height<Object(i["B"])(a).height}]),style:Object(i["o"])(Object(i["B"])(l)),onWheel:Object(i["H"])(u,["ctrl","prevent"])},[Object(i["G"])(Object(i["i"])(Object(i["B"])(ke),null,null,512),[[i["D"],Object(i["B"])(o).results]]),Object(i["G"])(Object(i["i"])(Object(i["B"])(Ue),{offset:Object(i["B"])(r),scale:Object(i["B"])(o).scale},null,8,["offset","scale"]),[[i["D"],Object(i["B"])(o).width]])],46,We)}}};n("894a");Ve.__scopeId="data-v-631622cc";var qe=Ve;Object(i["v"])("data-v-184761c8");var Xe={class:"progress"},He={class:"inner"};Object(i["u"])();var $e={props:{text:String,icon:String,value:String,enabled:Boolean,disabled:Boolean},emits:["click"],setup:function(e,t){var n=t.emit,c=e;Object(i["C"])((function(e){return{"22a0ad3a":c.value}}));var a=function(){c.enabled&&n("click")};return function(e,t){return Object(i["t"])(),Object(i["g"])("div",{class:Object(i["m"])(["processButton",{enabled:c.enabled,disabled:c.disabled}]),onClick:a},[Object(i["h"])("span",null,Object(i["A"])(c.text),1),Object(i["h"])("div",Xe,[Object(i["h"])("div",He,[Object(i["h"])("span",null,Object(i["A"])(c.text),1)])])],2)}}};n("2d4d");$e.__scopeId="data-v-184761c8";var et=$e,tt={setup:function(e){var t=Object(c["b"])(),n=Object(i["c"])((function(){return t.getters["fullScreen"]})),a=Object(i["c"])((function(){return t.getters["processing"]})),o=Object(i["c"])((function(){return t.getters["progress"]})),r=Object(i["c"])((function(){return t.getters["settings/autoMaximize"]})),l=Object(i["c"])((function(){return t.getters["colorMap/src"]})),u=function(){t.dispatch("process"),r.value&&!n.value&&t.dispatch("toggleFullScreen")};return function(e,t){return Object(i["t"])(),Object(i["e"])(Object(i["B"])(et),{text:Object(i["B"])(a)?"".concat(Object(i["B"])(o),"%"):"Run",value:Object(i["B"])(a)?"".concat(Object(i["B"])(o),"%"):"100%",enabled:Object(i["B"])(l)&&!Object(i["B"])(a),disabled:!Object(i["B"])(l),onClick:u},null,8,["text","value","enabled","disabled"])}}},nt=tt,it={props:{fullScreen:Boolean},setup:function(e){var t=e,n=Object(c["b"])(),a=function(){return n.dispatch("toggleFullScreen")};return function(e,n){return Object(i["t"])(),Object(i["g"])("div",{class:Object(i["m"])(["toolBar",{fullScreen:t.fullScreen}])},[Object(i["i"])(Object(i["B"])(nt)),Object(i["i"])(Object(i["B"])(me),{icon:"expand-arrows-alt",onClick:a})],2)}}};n("03e4");it.__scopeId="data-v-79549670";var ct=it;Object(i["v"])("data-v-652fb784");var at={class:"app"};Object(i["u"])();var ot={setup:function(e){var t=Object(c["b"])(),n=Object(i["c"])((function(){return t.getters["fullScreen"]})),a=Object(i["c"])((function(){return t.getters["processing"]})),r=Object(i["c"])((function(){return t.getters["colorMap/src"]}));Object(i["r"])((function(){window.addEventListener("keydown",u,!1),t.dispatch("colorMap/loadDefault",{data:o,setResults:!0}),t.dispatch("lightMap/loadDefault",{data:l})}));var u=function(e){var n=e.ctrlKey,i=e.shiftKey,c=e.metaKey,o=e.key;(n||c)&&"F11"===o&&t.dispatch("toggleFullScreen"),(n||c)&&i&&"F"===o&&t.dispatch("toggleFullScreen"),(n||c)&&i&&"E"===o&&r.value&&!a.value&&t.dispatch("process")};return function(e,t){return Object(i["t"])(),Object(i["g"])("div",at,[Object(i["i"])(Object(i["B"])(C),{fullScreen:Object(i["B"])(n)},null,8,["fullScreen"]),Object(i["i"])(Object(i["B"])(qe),{fullScreen:Object(i["B"])(n)},null,8,["fullScreen"]),Object(i["i"])(Object(i["B"])(Fe),{fullScreen:Object(i["B"])(n)},null,8,["fullScreen"]),Object(i["i"])(Object(i["B"])(ct),{fullScreen:Object(i["B"])(n)},null,8,["fullScreen"])])}}};n("ddff");ot.__scopeId="data-v-652fb784";var rt=ot,lt=(n("d81d"),function(e,t){var n=new Image;n.addEventListener("load",(function(){var e=document.createElement("canvas"),i=e.getContext("2d");e.width=n.width,e.height=n.height,i.drawImage(n,0,0);var c=i.getImageData(0,0,n.width,n.height).data;t({imageData:c,width:n.width,height:n.height})})),n.src=e}),ut=lt,st=function(){return{name:null,size:null,date:null,src:null,imageData:null,width:null,height:null}},dt={name:function(e){return e.name},size:function(e){return e.size},date:function(e){return e.date},src:function(e){return e.src},imageData:function(e){return e.imageData},width:function(e){return e.width},height:function(e){return e.height}},bt={loadDefault:function(e,t){var n=e.commit,i=t.data,c=t.setResults;ut(i.src,(function(e){var t=e.imageData,a=e.width,o=e.height;n("set",{name:i.name,size:i.size,date:i.date,src:i.src,imageData:t,width:a,height:o}),c&&setTimeout((function(){return n("setResults",t,{root:!0})}),0)}))},load:function(e,t){var n=e.commit,i=t.file,c=t.setResults,a=new FileReader;a.addEventListener("load",(function(){ut(a.result,(function(e){var t=e.imageData,o=e.width,r=e.height;n("set",{name:i.name,size:i.size,date:i.lastModifiedDate,src:a.result,imageData:t,width:o,height:r}),c&&setTimeout((function(){return n("setResults",t,{root:!0})}),0)}))}),!1),a.readAsDataURL(i)}},ft={set:function(e,t){e.name=t.name,e.size=t.size,e.date=t.date,e.src=t.src,e.imageData=t.imageData,e.width=t.width,e.height=t.height}},gt={namespaced:!0,state:st,getters:dt,actions:bt,mutations:ft},ht=n("5530"),Ot=function(){return{ambiantLight:{enabled:!0,folded:!1,values:{intensity:50,color:"#cceeff"}},pointLights:[{id:1,enabled:!0,folded:!1,values:{x:35,y:15,radius:40,intensity:80,color:"#ff0000"}},{id:2,enabled:!0,folded:!1,values:{x:10,y:50,radius:25,intensity:75,color:"#0099ff"}}],currentid:2}},jt={ambiantLight:function(e){return e.ambiantLight},pointLights:function(e){return e.pointLights}},vt={add:function(e,t){var n=e.commit;n("add",t)},toggleEnabled:function(e,t){var n=e.commit;n("toggleEnabled",t)},toggleFolded:function(e,t){var n=e.commit;n("toggleFolded",t)},edit:function(e,t){var n=e.commit;n("edit",t)},delete:function(e,t){var n=e.commit;n("delete",t)}},pt={add:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.pointLights.push({id:++e.currentid,enabled:!0,folded:!1,values:Object(ht["a"])({x:0,y:0,radius:100,intensity:50,color:"#ffeecc"},t)})},toggleEnabled:function(e,t){0===t.id?e.ambiantLight=Object(ht["a"])(Object(ht["a"])({},e.ambiantLight),{},{enabled:!e.ambiantLight.enabled}):e.pointLights=e.pointLights.map((function(e){return e.id===t.id?Object(ht["a"])(Object(ht["a"])({},e),{},{enabled:!e.enabled}):e}))},toggleFolded:function(e,t){0===t.id?e.ambiantLight=Object(ht["a"])(Object(ht["a"])({},e.ambiantLight),{},{folded:!e.ambiantLight.folded}):e.pointLights=e.pointLights.map((function(e){return e.id===t.id?Object(ht["a"])(Object(ht["a"])({},e),{},{folded:!e.folded}):e}))},edit:function(e,t){0===t.id?e.ambiantLight=Object(ht["a"])(Object(ht["a"])({},e.ambiantLight),{},{values:Object(ht["a"])(Object(ht["a"])({},e.ambiantLight.values),t.data)}):e.pointLights=e.pointLights.map((function(e){return e.id===t.id?Object(ht["a"])(Object(ht["a"])({},e),{},{values:Object(ht["a"])(Object(ht["a"])({},e.values),t.data)}):e}))},delete:function(e,t){e.pointLights=e.pointLights.filter((function(e){return e.id!==t.id}))}},mt={namespaced:!0,state:Ot,getters:jt,actions:vt,mutations:pt},wt=function(){return{showGizmos:!0,showGizmosFullScreen:!1,autoMaximize:!0,scale:8}},At={showGizmos:function(e){return e.showGizmos},showGizmosFullScreen:function(e){return e.showGizmosFullScreen},autoMaximize:function(e){return e.autoMaximize},scale:function(e){return e.scale}},Bt={toggleShowGizmos:function(e){var t=e.commit;t("toggleShowGizmos")},toggleShowGizmosFullScreen:function(e){var t=e.commit;t("toggleShowGizmosFullScreen")},toggleAutoMaximize:function(e){var t=e.commit;t("toggleAutoMaximize")},setScale:function(e,t){var n=e.commit;n("setScale",t)}},yt={toggleShowGizmos:function(e){e.showGizmos=!e.showGizmos},toggleShowGizmosFullScreen:function(e){e.showGizmosFullScreen=!e.showGizmosFullScreen},toggleAutoMaximize:function(e){e.autoMaximize=!e.autoMaximize},setScale:function(e,t){e.scale=t}},St={namespaced:!0,state:wt,getters:At,actions:Bt,mutations:yt},xt=(n("3ca3"),n("2b3d"),n("9861"),function(e){var t=new Blob(["self.onmessage = ",e.toString()],{type:"text/javascript"}),n=URL.createObjectURL(t),i=new Worker(n);return i}),Mt=xt,zt=(n("8a59"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),function(e){var t,n,i,c,a,o,r,l,u,s=e.data,d=s.ambiantLight,b=s.pointLights,f=s.colorMap,g=s.lightMap,h=new Uint8ClampedArray(f.imageData.length),O=function(){var e=d.intensity/100/255;return{r:d.color.r*e,g:d.color.g*e,b:d.color.b*e}}(),j=b.map((function(e){var t=e.intensity/100;return{r:e.color.r*t,g:e.color.g*t,b:e.color.b*t}})),v={r:0,g:0,b:0};for(n=0;n<f.height;++n)for(t=0;t<f.width;++t)i=4*t+f.width*n*4,c<parseInt(i/h.length*100)&&self.postMessage({type:"progress",value:++c}),a=b.map((function(e,c){return o=t-e.x,r=n-e.y,l=Math.sqrt(o*o+r*r),l<=e.radius?(u=(1-l/e.radius)*g.imageData[i]/255,{r:j[c].r*u,g:j[c].g*u,b:j[c].b*u}):v})).reduce((function(e,t){return{r:e.r+t.r,g:e.g+t.g,b:e.b+t.b}}),v),h[i]=f.imageData[i]*O.r+a.r,h[i+1]=f.imageData[i+1]*O.g+a.g,h[i+2]=f.imageData[i+2]*O.b+a.b,h[i+3]=f.imageData[i+3];self.postMessage({type:"end",value:h})}),Et=zt,Lt=function(){return{fullScreen:!1,processing:!1,progress:0,results:null}},Ft={fullScreen:function(e){return e.fullScreen},processing:function(e){return e.processing},progress:function(e){return e.progress},results:function(e){return e.results}},It={toggleFullScreen:function(e){var t=e.commit,n=e.state;t("setFullScreen",!n.fullScreen)},process:function(e){var t=e.commit,n=e.state;t("setProcessing",!0),t("setProgress",0);var i=Mt(Et);i.onmessage=function(e){var n=e.data;"progress"===n.type?t("setProgress",n.value):"end"===n.type&&(t("setProcessing",!1),t("setResults",n.value))},setTimeout((function(){return i.postMessage({colorMap:{imageData:n.colorMap.imageData,width:n.colorMap.width,height:n.colorMap.height},lightMap:{imageData:n.lightMap.imageData,width:n.lightMap.width,height:n.lightMap.height},ambiantLight:n.lights.ambiantLight.enabled?{intensity:n.lights.ambiantLight.values.intensity,color:Ne(n.lights.ambiantLight.values.color)}:null,pointLights:n.lights.pointLights.filter((function(e){return e.enabled})).map((function(e){return{x:e.values.x,y:e.values.y,radius:e.values.radius,intensity:e.values.intensity,color:Ne(e.values.color)}}))})}),500)}},Ct={setFullScreen:function(e,t){e.fullScreen=t},setProcessing:function(e,t){e.processing=t},setProgress:function(e,t){e.progress=t},setResults:function(e,t){e.results=t}},kt=Object(c["a"])({state:Lt,getters:Ft,actions:It,mutations:Ct,modules:{colorMap:gt,lightMap:gt,lights:mt,settings:St}});Object(i["d"])(rt).use(kt).mount("body")},"5e5b":function(e,t,n){"use strict";n("008a")},"5ef7":function(e,t,n){"use strict";n("9bd1")},"5f6d":function(e,t,n){},6799:function(e,t,n){"use strict";n("bcac")},"7a07":function(e,t,n){},"894a":function(e,t,n){"use strict";n("2e4a")},"8e4f":function(e,t,n){"use strict";n("367f")},"8f1d":function(e,t,n){"use strict";n("c4d3")},"90df":function(e,t,n){},"96a3":function(e,t,n){},"9bd1":function(e,t,n){},a67a:function(e,t,n){"use strict";n("461b")},a961:function(e,t,n){"use strict";n("4682")},aea9:function(e,t,n){"use strict";n("5f6d")},b216:function(e,t,n){"use strict";n("b357")},b357:function(e,t,n){},b467:function(e,t,n){"use strict";n("f55c")},bb81:function(e,t,n){},bcac:function(e,t,n){},bd93:function(e,t,n){"use strict";n("ee3c")},c221:function(e,t,n){"use strict";n("90df")},c4d3:function(e,t,n){},dc71:function(e,t,n){"use strict";n("3e21")},ddad:function(e,t,n){"use strict";n("ebf7")},ddff:function(e,t,n){"use strict";n("3802")},ebf7:function(e,t,n){},eda6:function(e,t,n){"use strict";n("50f9")},ee3c:function(e,t,n){},f13a:function(e,t,n){"use strict";n("96a3")},f55c:function(e,t,n){},fbda:function(e,t,n){"use strict";n("bb81")},fc26:function(e,t,n){"use strict";n("3078")}});
//# sourceMappingURL=app.ec664541.js.map